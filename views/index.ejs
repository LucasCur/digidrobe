<!-- index.ejs -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Digidrobe</title>
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>
    <h1>Digidrobe</h1>
    <form id="uploadForm" action="/upload" method="post" enctype="multipart/form-data">
        <input type="file" name="image" id="image" onchange="checkFile()" accept=".jpg, .jpeg, .png, .gif">
        <button type="submit" id="uploadButton" disabled>Upload</button>
    </form>
    <!-- Display uploaded items -->
    <div class="grid-container">
        <% for(let item of items) { %>
            <div class="grid-item">
                <img src="/uploads/<%= item.filename %>" alt="Clothing Item">
                <a href="/item/<%= item.id %>" class="view-btn">View</a>
                <a href="/delete/<%= item.id %>" class="delete-btn">Delete</a>
            </div>
        <% } %>
    </div>
    <script>
        function checkFile() {
            const fileInput = document.getElementById('image');
            const uploadButton = document.getElementById('uploadButton');

            if (fileInput.files.length > 0) {
                uploadButton.disabled = false;
            } else {
                uploadButton.disabled = true;
            }
        }
    </script>
</body>
</html>
